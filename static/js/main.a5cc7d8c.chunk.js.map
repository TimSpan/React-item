{"version":3,"sources":["components/Header/logo.png","components/Header/index.js","components/Login/index.js","containers/List/index.js","containers/Detail/index.js","index.js"],"names":["module","exports","AppHeader","props","state","list","console","log","this","map","item","Item","key","id","to","type","icon","title","axios","get","then","res","setState","data","src","logo","className","alt","mode","getMenuItems","Component","Login","showModal","bind","hideModal","changeUser","changePassword","checkLogin","logout","login","modal","user","password","e","target","value","withCredentials","url","message","success","error","onClick","visible","onOk","onCancel","placeholder","style","marginBottom","onChange","PageList","nextProps","background","bordered","dataSource","renderItem","match","params","Detail","content","dangerouslySetInnerHTML","__html","Header","Layout","Footer","Content","App","minWidth","height","path","component","List","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a5cc7d8c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.1e5fb683.png\";","import React, { Component, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Menu, Icon } from 'antd';\r\nimport axios from 'axios';\r\n\r\nimport logo from './logo.png';\r\nimport './style.css';\r\n\r\nclass AppHeader extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            list: []\r\n        }\r\n    }\r\n    //循环遍历list里面的数据，生成6个Menu.Item组件\r\n    getMenuItems() {\r\n        console.log(this.state.list);\r\n        return this.state.list.map(item => {\r\n            return (\r\n                <Menu.Item key={item.id}>\r\n\r\n                    {/* 这里需要多理解 */}\r\n                    <Link to={`/${item.id}`}>\r\n                        <Icon type={item.icon} />{item.title}\r\n                    </Link>\r\n                </Menu.Item>\r\n            )\r\n        })\r\n\r\n    }\r\n    componentDidMount() {\r\n        axios.get('http://www.dell-lee.com/react/api/header.json')\r\n            .then(res => {\r\n                this.setState({\r\n                    list: res.data.data\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Link to='/'>\r\n                    <img\r\n                        src={logo}\r\n                        className='app-header-logo'\r\n                        alt=\"logo\"\r\n                    />\r\n                </Link>\r\n                <Menu\r\n                    mode=\"horizontal\" className='app-header-menu'\r\n                >\r\n                    {this.getMenuItems()}\r\n                </Menu>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\nexport default AppHeader;","import React, { Component } from 'react';\r\nimport { Modal, Button, Input, message } from 'antd';\r\nimport './style.css';\r\nimport axios from 'axios';\r\n\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.showModal = this.showModal.bind(this);\r\n        this.hideModal = this.hideModal.bind(this);\r\n        this.changeUser = this.changeUser.bind(this);\r\n        this.changePassword = this.changePassword.bind(this);\r\n        this.checkLogin = this.checkLogin.bind(this);\r\n        this.logout = this.logout.bind(this);\r\n\r\n        this.state = {\r\n            login:false,\r\n            modal:false,\r\n            user:'',\r\n            password:''\r\n        }\r\n    }\r\n    showModal(){\r\n        this.setState({\r\n            modal:true\r\n        })\r\n    }\r\n    hideModal(){\r\n        this.setState({\r\n            modal:false\r\n        })\r\n    }\r\n\r\n    changeUser(e){\r\n        this.setState({\r\n            user:e.target.value\r\n        })\r\n    }\r\n    changePassword(e){\r\n        this.setState({\r\n            password:e.target.value\r\n        })\r\n    }\r\n    logout(){\r\n        axios.get('http://www.dell-lee.com/react/api/logout.json',{ withCredentials:true})\r\n        .then(res => {\r\n            const login = res.data.data.login;\r\n            this.setState({\r\n                login\r\n            })\r\n        })\r\n    }\r\n    checkLogin(){\r\n        const{user,password} = this.state;\r\n        const url = `http://www.dell-lee.com/react/api/login.json?user = ${user}&password=${password}`;\r\n            \r\n        axios.get(url,{\r\n            withCredentials:true\r\n        }).then(res => {\r\n            const login = res.data.data.login;\r\n            if(login){\r\n                message.success('登录成功')\r\n                this.setState({\r\n                    login:true,\r\n                    modal:false\r\n                })\r\n            }else{\r\n                message.error('登录失败')\r\n            }\r\n        })\r\n        \r\n    }\r\n    render() {\r\n        const { login } = this.state;\r\n        return (\r\n            <div >\r\n                {\r\n                    login ?\r\n                        <Button \r\n                            className='login' \r\n                            type=\"danger\"\r\n                            onClick={this.logout}\r\n                        >\r\n                            退出\r\n                        </Button> :\r\n\r\n                        <Button \r\n                            className='login' \r\n                            type=\"danger\"\r\n                            onClick={this.showModal}\r\n                        >\r\n                            登录\r\n                        </Button>\r\n                }\r\n\r\n                <Modal\r\n                    title=\"登录\"\r\n                    visible={this.state.modal}\r\n                    onOk={this.checkLogin}\r\n                    onCancel={this.hideModal}\r\n                >\r\n                    <Input \r\n                        placeholder=\"请输入用户名\" \r\n                        style={{ marginBottom: 10}}\r\n                        value={this.state.user}\r\n                        onChange={this.changeUser}\r\n                    />\r\n                    <Input \r\n                        placeholder=\"请输入密码\" type='password'\r\n                        value={this.state.password}\r\n                        onChange={this.changePassword}\r\n\r\n                    />\r\n\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n    componentDidMount() {\r\n           \r\n        axios.get('http://www.dell-lee.com/react/api/isLogin.json',{ withCredentials:true})\r\n        .then(res => {\r\n            const login = res.data.data.login;\r\n            this.setState({\r\n                login\r\n            })\r\n        })\r\n    }\r\n}\r\nexport default Login;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport axios from 'axios';\r\nimport { List } from 'antd';\r\n\r\n\r\n\r\nclass PageList extends Component {\r\n    componentWillReceiveProps(nextProps){\r\n\r\n        console.log(nextProps);\r\n\r\n    }\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            data: []\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <List\r\n                style={{background:'#fff'}}\r\n                bordered\r\n                dataSource={this.state.data}\r\n                renderItem={item => (\r\n                    <List.Item>\r\n                        <Link to={`/detail/${item.id}`}>{item.title}</Link>\r\n                    </List.Item>\r\n                )}\r\n            />\r\n        )\r\n\r\n    }\r\n    // 这里需要多理解\r\n    componentDidMount(){\r\n        let url = 'http://www.dell-lee.com/react/api/list.json'\r\n        const id = this.props.match.params.id;\r\n        if(id){\r\n            url = url +'?id='+id;\r\n        }\r\n        axios.get(url)\r\n        .then(res => {\r\n            this.setState({\r\n                data: res.data.data\r\n            });\r\n        })\r\n    }\r\n}\r\nexport default PageList;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { Card } from 'antd';\r\nimport './style.css'\r\n\r\nclass Detail extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            content: ''\r\n        }\r\n    }\r\n\r\n    render() {\r\n        //使用id\r\n        return (\r\n            <Card\r\n                title={this.state.title}>\r\n                <div className='detail' dangerouslySetInnerHTML={{__html:this.state.content}}></div>\r\n\r\n            </Card>\r\n        )\r\n    }\r\n    componentDidMount(){\r\n        const id = this.props.match.params.id;\r\n        axios.get('http://www.dell-lee.com/react/api/detail.json?id=' +id)\r\n        .then(res => {\r\n            const data = res.data.data;\r\n            this.setState(data)\r\n               \r\n            \r\n        })\r\n    }\r\n}\r\nexport default Detail;\r\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Layout } from 'antd';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport AppHeader from './components/Header/';\nimport Login from './components/Login/';\nimport List from './containers/List/';\nimport Detail from './containers/Detail/';\n\n\nimport 'antd/dist/antd.css';\nimport './style.css';\n\n\nconst { Header, Footer, Content } = Layout;\n\nclass App extends Component {\n    render() {\n        return (\n            <BrowserRouter>\n                <Layout style={{ minWidth: 1300, height: '100%' }}>\n                    <Header className='header'>\n                        \n                        <AppHeader />\n                        <Login />\n                    </Header>\n\n                    <Content className='content'>\n                        \n                        <Switch>\n\n                            <Route path='/detail/:id' component={Detail} />\n                            {/* 动态路由/:id  ?的意思:可以传也可以不传*/}\n                            <Route path='/:id?' component={List} />\n\n                        </Switch>\n                    </Content>\n\n                    <Footer className='footer'>@copyright TimSpan 2019</Footer>\n                </Layout>\n            </BrowserRouter >\n        )\n    }\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}